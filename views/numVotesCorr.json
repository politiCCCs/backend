{
  "_id": "_design/numVotesCorr",
  "_rev": "22-f3ad72931d0c702f7e3f6e7b2806d7e9",
  "views": {
    "retweet": {
      "reduce": "_stats",
      "map": "function (doc) {\n    //Politician stream\n  if (doc.regular_stream===false){\n  emit([doc.full_tweet.user.screen_name], doc.retweet_count);\n}}"
    },
    "likes": {
      "map": "function (doc) {\n    //Politician stream\n  if (doc.regular_stream===false){\n  emit([doc.full_tweet.user.screen_name], doc.likes);\n}}",
      "reduce": "_stats"
    },
    "count": {
      "map": "function (doc) {\n    //Politician stream\n  if (doc.regular_stream===false){\n  emit([doc.full_tweet.user.screen_name], 1);\n}}",
      "reduce": "_count"
    },
    "sentiment": {
      "reduce": "_stats",
      "map": "function (doc) {\n  //Politician stream\n  if (doc.regular_stream===false){\n  emit([doc.full_tweet.user.screen_name], doc.sentiment_score);\n  }\n}"
    },
    "retweet_ave": {
      "reduce": "function(keys, values, rereduce) {\n    if (!rereduce) {\n        var length = values.length;\n        return [sum(values) / length, length];\n    } else {\n        var length = sum(values.map(function(v){return v[1]}));\n        var avg = sum(values.map(function(v){\n            return v[0] * (v[1] / length);\n        }));\n        return [avg, length];\n    }\n}",
      "map": "function (doc) {\n    //Politician stream\n  if (doc.regular_stream===false){\n  emit([doc.full_tweet.user.screen_name], doc.retweet_count);\n  }\n}"
    },
    "sentiment_ave": {
      "reduce": "\nfunction(keys, values, rereduce) {\n    if (!rereduce) {\n        var length = values.length;\n        return [sum(values) / length, length];\n    } else {\n        var length = sum(values.map(function(v){return v[1]}));\n        var avg = sum(values.map(function(v){\n            return v[0] * (v[1] / length);\n        }));\n        return [avg, length];\n    }\n}",
      "map": "function (doc) {\n  if (doc.regular_stream===false){\n  emit([doc.full_tweet.user.screen_name], doc.sentiment_score);\n  }\n}\n"
    },
    "likes_ave": {
      "map": "function (doc) {\n    //Politician stream\n  if (doc.regular_stream===false){\n  emit([doc.full_tweet.user.screen_name], doc.likes);\n}}",
      "reduce": "function(keys, values, rereduce) {\n    if (!rereduce) {\n        var length = values.length;\n        return [sum(values) / length, length];\n    } else {\n        var length = sum(values.map(function(v){return v[1]}));\n        var avg = sum(values.map(function(v){\n            return v[0] * (v[1] / length);\n        }));\n        return [avg, length];\n    }\n}"
    },
    "count_ave": {
      "map": "function (doc) {\n    //Politician stream\n  if (doc.regular_stream===false){\n  emit([doc.full_tweet.user.screen_name], 1);\n}}",
      "reduce": "function(keys, values, rereduce) {\n    if (!rereduce) {\n        var length = values.length;\n        return [sum(values) / length, length];\n    } else {\n        var length = sum(values.map(function(v){return v[1]}));\n        var avg = sum(values.map(function(v){\n            return v[0] * (v[1] / length);\n        }));\n        return [avg, length];\n    }\n}"
    }
  },
  "language": "javascript"
}